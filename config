###################################################################################
# ________      ______       ______       ______       ___   __        ______
#/_______/\    /_____/\     /_____/\     /_____/\     /__/\ /__/\     /_____/\
#\__.::._\/    \:::_:\ \    \:::__\/     \:::_ \ \    \::\_\\  \ \    \::::_\/_
#   \::\ \        /_\:\ \    \:\ \  __    \:\ \ \ \    \:. `-\  \ \    \:\/___/\
#   _\::\ \__     \::_:\ \    \:\ \/_/\    \:\ \ \ \    \:. _    \ \    \:::._\/
#  /__\::\__/\    /___\:\ '    \:\_\ \ \    \:\_\ \ \    \. \`-\  \ \    \:\ \
#  \________\/    \______/      \_____\/     \_____\/     \__\/ \__\/     \_\/
#
###################################################################################

#Basic Definition
set $mod Mod4
font pango:scientifica 13
for_window [class="^.*"] border pixel 5
smart_gaps on
gaps outer 5 
gaps inner 10 
floating_modifier $mod

#AUTOSTART
exec --no-startup-id xss-lock --transfer-sleep-lock -- i3lock --nofork
exec --no-startup-id nm-applet
exec setxkbmap -option caps:swapescape 
exec alacritty --class newsboat -e newsboat
exec alacritty --class cmus -e cmus
exec alacritty --class pulse -e pulsemixer
exec alacritty --class dropdown
exec alacritty --class ranger -e ranger


#KEYBINDINGS

# Use amixer to adjust volume in PulseAudio.
bindsym XF86AudioRaiseVolume exec amixer -q -D pulse sset Master 5%+ && pkill -RTMIN+1 i3blocks 
bindsym XF86AudioLowerVolume exec amixer -q -D pulse sset Master 5%- && pkill -RTMIN+1 i3blocks
bindsym XF86AudioMute exec amixer -q -D pulse sset Master toggle && pkill -RTMIN+1 i3blocks

bindsym XF86AudioPlay exec playerctl play-pause
bindsym XF86AudioNext exec playerctl next
bindsym XF86AudioPrev exec playerctl previous

bindsym $mod+Return exec --no-startup-id alacritty 
bindsym $mod+Shift+q kill
bindsym $mod+Shift+Return exec --no-startup-id rofi -show drun -width 400 -lines 5 -font "scientifica 13" -hide-scrollbar -glob -separator-style "dash" 
bindsym $mod+h focus left
bindsym $mod+j focus down
bindsym $mod+k focus up
bindsym $mod+l focus right
bindsym $mod+Shift+h move left
bindsym $mod+Shift+j move down
bindsym $mod+Shift+k move up
bindsym $mod+Shift+l move right
bindsym $mod+c split h
bindsym $mod+v split v
bindsym $mod+shift+f fullscreen toggle
bindsym $mod+s layout stacking
bindsym $mod+z layout tabbed
bindsym $mod+e layout toggle split
bindsym $mod+Shift+space floating toggle
bindsym $mod+space focus mode_toggle
bindsym $mod+q focus parent

bindsym $mod+ampersand workspace $ws1
bindsym $mod+eacute workspace $ws2
bindsym $mod+quotedbl workspace $ws3
bindsym $mod+apostrophe workspace $ws4
bindsym $mod+parenleft workspace $ws5
bindsym $mod+minus workspace $ws6
bindsym $mod+egrave workspace $ws7
bindsym $mod+underscore workspace $ws8
bindsym $mod+ccedilla workspace $ws9
bindsym $mod+agrave workspace $ws10


bindsym $mod+Shift+c reload
bindsym $mod+BackSpace restart
bindsym $mod+Shift+e exec i3 exit

bindsym $mod+Shift+ampersand move container to workspace $ws1
bindsym $mod+Shift+eacute move container to workspace $ws2
bindsym $mod+Shift+quotedbl move container to workspace $ws3
bindsym $mod+Shift+apostrophe move container to workspace $ws4
bindsym $mod+Shift+5 move container to workspace $ws5
bindsym $mod+Shift+minus move container to workspace $ws6
bindsym $mod+Shift+egrave move container to workspace $ws7
bindsym $mod+Shift+underscore move container to workspace $ws8
bindsym $mod+Shift+ccedilla move container to workspace $ws9
bindsym $mod+Shift+agrave move container to workspace $ws10


bindsym Print exec maim $(date +$HOME/Pictures/Screenshots/Screenshot_%Y-%m-%d_%H%M%S.png)
bindsym $mod+Shift+s exec maim -s | xclip -selection clipboard -t image/png

bindsym $mod+r mode "resize"
bindsym $mod+a mode "gaps"

bindsym $mod+b exec firefox 
bindsym $mod+Shift+b exec qutebrowser
bindsym $mod+f exec alacritty -e ranger
bindsym $mod+shift+x exec i3lock



set $ws1 "一"
set $ws2 "二"
set $ws3 "三"
set $ws4 "四"
set $ws5 "五"
set $ws6 "六"
set $ws7 "七"
set $ws8 "八"
set $ws9 "九"
set $ws10 "十"



mode "resize" {
       bindsym h resize shrink width 10 px or 10 ppt
        bindsym j resize grow height 10 px or 10 ppt
        bindsym k resize shrink height 10 px or 10 ppt
        bindsym l resize grow width 10 px or 10 ppt

        # back to normal: Enter or Escape or $mod+r
        bindsym Return mode "default"
        bindsym Escape mode "default"
        bindsym $mod+r mode "default"
}



mode "gaps" {
    bindsym d          gaps inner current set 10; gaps outer current set 5
	bindsym i		   gaps inner current plus 5
	bindsym Shift+i	   gaps inner current minus 5
	bindsym w		   gaps inner current set 0; gaps outer current set 0
	bindsym o		   gaps outer current plus 5
	bindsym Shift+o    gaps outer current minus 5
	
	bindsym Return mode "default"
	bindsym Escape mode "default"
    bindsym a mode "default"
	}



#window set
for_window[window_role="pop-up"] floating enable
for_window[window_role="task_dialog"] floating enbale

###################
#i3 colors
###################
#
set_from_resource $c0 i3wm.color0 #f0f0f0
set_from_resource $c2 i3wm.color2 #f0f0f0
set_from_resource $c4 i3wm.color4 #f0f0f0
set_from_resource $c5 i3wm.color5 #f0f0f0
set_from_resource $c7 i3wm.color7 #f0f0f0


# class                 border  backgr. text indicator child_border
client.focused          $c7     $c7     $c0  $c5       $c7
client.focused_inactive $c2     $c2     $c7  $c2       $c2
client.unfocused        $c2     $c2     $c7  $c2       $c2
client.urgent           $c4     $c4     $c0  $c2       $c2
client.placeholder      $c2     $c2     $c7  $c2       $c2

client.background       $c0



#############
#### BAR ####
#############
bar {
	position top
	id bar-1
	status_command ~/.config/i3/bumblebee-status/bumblebee-status \
    -m dunst cpu memory date time battery network \
    -p date.left-click="alacritty -e calcurse" disk.left-click="pcmanfm" cpu.left-click="alacritty -e gotop -p" memory.left-click="alacritty -e gotop -p" time.left-click="alacritty -e tty-clock -b -c -s"  time.format="%H:%M" \
	-t wally
	colors {
		background $c0
		separator #ebdbb2
		#<colorclass> <border> <background> <text>
		focused_workspace  $c7   $c7   $c2
		inactive_workspace $c2    $c2    $c7
		urgent_workspace   #cc241d #900000 #fb4934
	}
}


exec_always picom
exec_always wal -R

# --------scratchpads--------
#Dropdown
for_window [instance="dropdown"] floating enable
for_window [instance="dropdown"] resize set 650 500
for_window [instance="dropdown"] move scratchpad
for_window [instance="dropdown"] border pixel 7


bindsym $mod+Shift+u exec alacritty --class dropdown
bindsym $mod+u [instance="dropdown"] scratchpad show; move position center

#ranger
for_window [instance="ranger"] floating enable
for_window [instance="ranger"] resize set 750 600
for_window [instance="ranger"] move scratchpad
for_window [instance="ranger"] border pixel 7


bindsym $mod+Shift+i exec alacritty --class ranger -e ranger
bindsym $mod+i [instance="ranger"] scratchpad show; move position center

#Pulse
for_window [instance="pulse"] floating enable
for_window [instance="pulse"] resize set 550 400
for_window [instance="pulse"] move scratchpad
for_window [instance="pulse"] border pixel 7


bindsym $mod+Shift+o exec alacritty --class pulse -e pulsemixer
bindsym $mod+o [instance="pulse"] scratchpad show; move position center

#Cmus
for_window [instance="cmus"] floating enable
for_window [instance="cmus"] resize set 550 400
for_window [instance="cmus"] move scratchpad
for_window [instance="cmus"] border pixel 7


bindsym $mod+Shift+p exec alacritty --class cmus -e cmus /media/dalichabani/DATA/Music
bindsym $mod+p [instance="cmus"] scratchpad show; move position center

#newsboat
for_window [instance="newsboat"] floating enable
for_window [instance="newsboat"] resize set 1000 800
for_window [instance="newsboat"] move scratchpad
for_window [instance="newsboat"] border pixel 7


bindsym $mod+Shift+n exec alacritty --class newsboat -e newsboat
bindsym $mod+n [instance="newsboat"] scratchpad show; move position center

